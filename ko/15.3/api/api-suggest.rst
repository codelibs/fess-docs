===========
자동완성 API
===========

자동완성 검색어 목록 조회
====================

요청
--------

==================  ====================================================
HTTP 메서드         GET
엔드포인트        ``/api/v1/suggest-words``
==================  ====================================================

|Fess| 에, ``http://<Server Name>/api/v1/suggest-words?q=자동완성검색어`` 요청을 전송하여, |Fess| 에 등록된 자동완성 검색어 목록을 JSON 형식으로 받을 수 있습니다.
자동완성 검색어 API를 사용하려면 관리 화면의 시스템 > 일반 설정에서 "문서로 자동완성" 또는 "검색어로 자동완성"을 활성화해야 합니다.

요청 매개변수
-----------------

사용 가능한 요청 매개변수는 다음과 같습니다.

.. tabularcolumns:: |p{3cm}|p{12cm}|
.. list-table:: 요청 매개변수

   * - q
     - 자동완성할 키워드. (예) ``q=fess``
   * - num
     - 자동완성될 단어 수. 기본값 10. (예) ``num=20``
   * - label
     - 필터링된 레이블명. (예) ``label=java``
   * - fields
     - 자동완성 대상을 제한하는 필드명. 기본값 제한 없음. (예) ``fields=content,title``
   * - lang
     - 검색 언어 지정. (예) ``lang=en``


응답
--------

다음과 같은 응답이 반환됩니다.

::

    {
      "query_time": 18,
      "record_count": 355,
      "page_size": 10,
      "data": [
        {
          "text": "fess",
          "labels": [
            "java",
            "python"
          ]
        }
      ]
    }

각 요소는 다음과 같습니다.

.. tabularcolumns:: |p{3cm}|p{12cm}|
.. list-table:: 응답 정보

   * - query_time
     - 쿼리 처리 시간(단위: 밀리초).
   * - record_count
     - 자동완성 검색어 등록 건수.
   * - page_size
     - 페이지 크기.
   * - data
     - 검색 결과의 부모 요소.
   * - text
     - 자동완성 검색어.
   * - labels
     - 레이블 값 배열.

오류 응답
==============

자동완성 API가 실패한 경우 다음과 같은 오류 응답이 반환됩니다.

.. tabularcolumns:: |p{4cm}|p{11cm}|
.. list-table:: 오류 응답

   * - 상태 코드
     - 설명
   * - 400 Bad Request
     - 요청 매개변수가 올바르지 않은 경우
   * - 500 Internal Server Error
     - 서버 내부 오류가 발생한 경우
