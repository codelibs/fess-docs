==========
Health API
==========

状態の取得
========

リクエスト
--------

==================  ====================================================
HTTPメソッド         GET
エンドポイント        ``/api/v1/health``
==================  ====================================================

|Fess| に、 ``http://<Server Name>/api/v1/health`` のリクエストを送ることで、 |Fess| のサーバーの状態をJSON形式で受け取ることができます。

リクエストパラメーター
-----------------

指定できるリクエストパラメーターはありません。

レスポンス
--------

以下のようなレスポンスが返ります。

::

    {
      "data": {
        "status": "green",
        "timed_out": false
      }
    }

各要素については以下の通りです。

.. tabularcolumns:: |p{3cm}|p{12cm}|
.. list-table:: レスポンス情報

   * - data
     - 検索結果の親要素。
   * - status
     - システムのステータス。正常な場合は ``green``、警告がある場合は ``yellow``、エラーがある場合は ``red`` が返却されます。
   * - timed_out
     - タイムアウトの有無。指定された時間内にレスポンスが返された場合は ``false``、タイムアウトした場合は ``true`` が返却されます。

エラーレスポンス
==============

Health APIが失敗した場合、以下のようなエラーレスポンスが返されます。

.. tabularcolumns:: |p{4cm}|p{11cm}|
.. list-table:: エラーレスポンス

   * - ステータスコード
     - 説明
   * - 500 Internal Server Error
     - サーバー内部エラーが発生した場合
