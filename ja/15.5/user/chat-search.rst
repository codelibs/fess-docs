==========================
AIチャット検索
==========================

概要
====

|Fess| のAIチャット検索機能を使用すると、従来のキーワード検索に加えて、
自然な会話形式で情報を探すことができます。質問を入力すると、
AIアシスタントが検索結果を分析し、わかりやすい回答を生成します。

AIチャット検索の特徴
====================

対話形式での検索
----------------

キーワードを考える代わりに、普段の会話のように質問できます。

例:

- 「Fessのインストール方法を教えてください」
- 「ファイルをクロールするにはどうすればいいですか？」
- 「検索結果が表示されない場合の対処法は？」

文脈を理解した回答
------------------

AIアシスタントは質問の意図を理解し、関連する情報をまとめて回答します。
複数の検索結果から必要な情報を抽出し、整理された形で提供します。

出典の明示
----------

AIの回答には、情報の出典（参照元ドキュメント）が明示されます。
回答の正確性を確認したい場合は、元のドキュメントを直接参照できます。

会話の継続
----------

一度の質問で終わりではなく、会話を続けることができます。
前の質問や回答の文脈を踏まえて、追加の質問ができます。

チャット検索の使い方
====================

チャットを開始する
------------------

1. |Fess| の検索画面にアクセスします
2. 画面右下のチャットアイコンをクリックします
3. チャットパネルが表示されます

質問を入力する
--------------

1. テキストボックスに質問を入力します
2. 送信ボタンをクリックするか、Enterキーを押します
3. AIアシスタントが回答を生成します

.. note::
   回答の生成には数秒かかる場合があります。
   処理中は、現在のフェーズ（検索中、分析中など）が表示されます。

回答を確認する
--------------

AIアシスタントの回答が表示されます。回答には以下の情報が含まれます:

- **回答本文**: 質問に対する詳細な回答
- **出典**: 回答の基となった文書へのリンク（[1]、[2]などの形式）

出典のリンクをクリックすると、元のドキュメントを確認できます。

会話を続ける
------------

追加の質問がある場合は、そのまま続けて質問できます:

- 「もう少し詳しく教えてください」
- 「他の方法はありますか？」
- 「〇〇について詳しく」

AIアシスタントは、前の会話の文脈を考慮して回答します。

新しい会話を始める
------------------

別のトピックについて質問したい場合は、「新しいチャット」ボタンをクリックします。
これにより、会話の履歴がクリアされ、新しい会話を始められます。

効果的な質問のコツ
==================

具体的に質問する
----------------

曖昧な質問よりも、具体的な質問の方が適切な回答が得られます。

.. list-table::
   :header-rows: 1
   :widths: 50 50

   * - 曖昧な質問
     - 具体的な質問
   * - 設定方法は？
     - Fessのメモリ設定を変更する方法は？
   * - エラーが出る
     - 検索時に「インデックスが見つからない」というエラーが出ます
   * - クロールについて
     - Webサイトをクロールする際の除外設定はどうすればいいですか？

背景情報を含める
----------------

状況や目的を含めると、より適切な回答が得られます。

良い例:

- 「Docker環境でFessを動かしています。ログの保存先を変更したいのですが、どうすればいいですか？」
- 「初めてFessを使います。まず何をすればいいですか？」

段階的に質問する
----------------

複雑な問題は、段階的に質問することで理解しやすくなります。

1. 「Fessでファイル共有をクロールできますか？」
2. 「SMBプロトコルでの接続方法を教えてください」
3. 「認証が必要な共有フォルダの場合はどうすればいいですか？」

よくある質問
============

Q: チャット機能が表示されません
-------------------------------

A: チャット機能が有効になっていない可能性があります。
システム管理者に、AIモード機能が有効になっているか確認してください。

Q: 回答が表示されるまで時間がかかります
---------------------------------------

A: AIが検索結果を分析し、回答を生成しているため、数秒〜十数秒かかる場合があります。
処理中は、現在のフェーズ（「検索中」「分析中」「回答生成中」など）が表示されます。

Q: 回答の出典が間違っているように見えます
-----------------------------------------

A: 出典のリンクをクリックして、元のドキュメントを確認してください。
AIは検索結果を基に回答を生成しますが、解釈に誤りがある場合があります。
重要な情報は、必ず元のドキュメントで確認することをお勧めします。

Q: 前の会話を忘れてしまったようです
-----------------------------------

A: セッションがタイムアウトした可能性があります。
一定時間操作がない場合、会話の履歴はクリアされます。
新しく会話を始めてください。

Q: 特定の質問に対して回答が得られません
---------------------------------------

A: 以下の可能性があります:

- 検索対象のドキュメントに関連情報がない
- 質問が曖昧で、適切な検索ができない
- レート制限に達している

質問を言い換えるか、しばらく待ってから再度試してください。

Q: 日本語以外で質問できますか？
-------------------------------

A: はい、設定によりますが、多くの場合、英語やその他の言語でも質問できます。
AIは質問の言語を認識し、同じ言語で回答しようとします。

注意事項
========

AIの回答について
----------------

- AIの回答は、検索結果を基に生成されたものです
- 回答の正確性は保証されません
- 重要な判断には、必ず元のドキュメントを確認してください
- 最新の情報は、公式ドキュメントで確認してください

プライバシーについて
--------------------

- 入力した質問は、検索とAI処理のために使用されます
- 会話の履歴は、セッション終了後に削除されます
- システムの設定により、ログが記録される場合があります

参考情報
========

- :doc:`search-and` - AND検索の使い方
- :doc:`search-not` - NOT検索の使い方
- :doc:`search-field` - フィールド検索の使い方
- :doc:`advanced-search` - 高度な検索機能
