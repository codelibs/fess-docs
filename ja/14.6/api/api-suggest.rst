=============
サジェストAPI
=============

サジェストワード一覧の取得
==========================

|Fess| に、 ``http://<Server Name>/suggest?query=サジェストワード`` のリクエストを送ることで、|Fess| の検索結果をJSON形式で受け取ることができます。
サジェストワードAPIを利用するには、管理画面のシステム 全般の設定でドキュメントでサジェスト、検索語でサジェストを有効にしておく必要があります。

リクエストパラメータ
--------------------

使用できるリクエストパラメータは以下の通りです。

.. tabularcolumns:: |p{3cm}|p{12cm}|
.. list-table:: リクエストパラメータ

   * - query
     - サジェストを行うキーワード。 (例) ``query=fess``
   * - num
     - サジェストされる単語の数。デフォルト10。 (例) ``num=20``
   * - fields
     - サジェスト対象を絞り込むフィールド名。デフォルト絞り込みなし。 (例) ``fields=content,title``


レスポンス
----------

以下のようなレスポンスが返ります。

::

      {
        "response": {
          "version": "14.6",
          "status": 0,
          "result": {
            "took": "5",
            "total": "1",
            "num": "1",
            "hits": [
              {
                "text": "fess",
                "tags": []
              }
            ]
          }
        }
      }


各要素については以下の通りです。

.. tabularcolumns:: |p{3cm}|p{12cm}|
.. list-table:: レスポンス情報

   * - response
     - ルート要素
   * - version
     - フォーマットバージョン
   * - status
     - レスポンスのステータス(status値は、0:正常、1:検索エラー、2または3:リクエストパラメータエラー、9:サービス停止中、-1:API種別エラーです)
   * - result
     - サジェストワード
