========
APIの概要
========


|Fess| の提供するAPI
==================

このドキュメントでは、 |Fess| が提供するAPIについて説明します。
APIを利用することで、既存のウェブシステムなどでも、|Fess| を検索サーバーとして使うことができます。

ベースURL
========

|Fess| のAPIエンドポイントは以下のベースURLで提供されます。

::

    http://<Server Name>/api/v1/

例えば、ローカル環境で動作している場合は次のようになります。

::

    http://localhost:8080/api/v1/

認証
====

現在のバージョンでは、APIの利用に認証は不要です。
ただし、管理画面の各種設定でAPIを有効にする必要があります。

HTTPメソッド
==========

すべてのAPIエンドポイントは **GET** メソッドでアクセスします。

レスポンスフォーマット
==================

すべてのAPIレスポンスは **JSON形式** で返されます（GSA互換APIを除く）。
レスポンスの ``Content-Type`` は ``application/json`` です。

エラーハンドリング
===============

APIリクエストが失敗した場合、適切なHTTPステータスコードとともにエラー情報が返されます。

.. tabularcolumns:: |p{3cm}|p{12cm}|
.. list-table:: HTTPステータスコード

   * - 200
     - リクエストが正常に処理されました。
   * - 400
     - リクエストパラメーターが不正です。
   * - 404
     - リクエストされたリソースが見つかりません。
   * - 500
     - サーバー内部でエラーが発生しました。

表: HTTPステータスコード

APIの種類
========

|Fess| は以下のAPIを提供しています。

.. tabularcolumns:: |p{3cm}|p{12cm}|
.. list-table::

   * - search
     - 検索結果を取得するAPI。
   * - popularword
     - 人気ワードを取得するAPI。
   * - label
     - 作成済みのラベルのリストを取得するAPI。
   * - health
     - サーバーの状態を取得するAPI。
   * - suggest
     - サジェストワードを取得するAPI。

表: APIの種類
