===========
アップグレード
===========

|Fess| のアップグレード
===================

以前のバージョンから更新するためには、次の手順を参照してください。

データのバックアップ
---------------

設定データは以下のファイルになります。

* バックアップページのfess_basic_config.bulkおよびfess_user.bulk (詳細は管理者ガイドのバックアップを参照してください)
* /etc/fessまたはapp/WEB-INF/confのsystem.properties
* /etc/fessまたはapp/WEB-INF/confのfess_config.properties

パッケージの更新
------------

|Fess| のプロセスを停止して、RPMまたはDEBパッケージをインストールしてください。
詳細はインストールガイドのインストールを参照してください。

ElasticsearchまたはOpenSearchをアップグレードする場合、移行に失敗するインデックスが発生する場合もあります。
安全に移行するためには、Fessに関するインデックスを削除しておくことを推奨します。

設定のリストア
-----------

1. |Fess| をインストールする
2. fess_config.propertiesの設定差分を確認して、新しい環境に設定を反映する
3. system.propertiesを新しい環境にコピーする
4. |Fess| を起動する
5. 管理画面からログインする
6. fess_basic_config.bulkおよびfess_user.bulkのファイルをバックアップページからアップロードする

クローラーの起動
------------

スケジューラページでDefault Crawlerジョブを開始して、インデックスを生成してください。

